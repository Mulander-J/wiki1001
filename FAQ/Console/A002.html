<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>A002_VuePress博客搭建笔记（二）个性化配置 # | Wiki 1001</title>
    <meta name="description" content="博客描述">
    <link rel="icon" href="/wiki1001/img/logo.ico">
    
    <link rel="preload" href="/wiki1001/assets/css/0.styles.33264f9c.css" as="style"><link rel="preload" href="/wiki1001/assets/js/app.a6243117.js" as="script"><link rel="preload" href="/wiki1001/assets/js/3.5748c91e.js" as="script"><link rel="preload" href="/wiki1001/assets/js/2.684ae4ca.js" as="script"><link rel="preload" href="/wiki1001/assets/js/5.c8914d84.js" as="script"><link rel="preload" href="/wiki1001/assets/js/7.73d7e162.js" as="script"><link rel="prefetch" href="/wiki1001/assets/js/10.cae7971b.js"><link rel="prefetch" href="/wiki1001/assets/js/11.176cb32c.js"><link rel="prefetch" href="/wiki1001/assets/js/12.301a7a29.js"><link rel="prefetch" href="/wiki1001/assets/js/13.8d155104.js"><link rel="prefetch" href="/wiki1001/assets/js/14.697d0824.js"><link rel="prefetch" href="/wiki1001/assets/js/15.b48d7c04.js"><link rel="prefetch" href="/wiki1001/assets/js/16.7a777a6c.js"><link rel="prefetch" href="/wiki1001/assets/js/17.5a5329ec.js"><link rel="prefetch" href="/wiki1001/assets/js/18.fad2455a.js"><link rel="prefetch" href="/wiki1001/assets/js/19.d4f8d96d.js"><link rel="prefetch" href="/wiki1001/assets/js/20.40afa950.js"><link rel="prefetch" href="/wiki1001/assets/js/21.138d9ba7.js"><link rel="prefetch" href="/wiki1001/assets/js/22.c621f9fb.js"><link rel="prefetch" href="/wiki1001/assets/js/23.174f1d7e.js"><link rel="prefetch" href="/wiki1001/assets/js/24.a6fb0813.js"><link rel="prefetch" href="/wiki1001/assets/js/25.6d58ba21.js"><link rel="prefetch" href="/wiki1001/assets/js/26.7b28d857.js"><link rel="prefetch" href="/wiki1001/assets/js/27.c5d8d77a.js"><link rel="prefetch" href="/wiki1001/assets/js/28.3b3ba45e.js"><link rel="prefetch" href="/wiki1001/assets/js/29.c373ed89.js"><link rel="prefetch" href="/wiki1001/assets/js/30.db507de8.js"><link rel="prefetch" href="/wiki1001/assets/js/31.6b974850.js"><link rel="prefetch" href="/wiki1001/assets/js/32.92733792.js"><link rel="prefetch" href="/wiki1001/assets/js/4.b99ca403.js"><link rel="prefetch" href="/wiki1001/assets/js/6.676bf522.js"><link rel="prefetch" href="/wiki1001/assets/js/8.769a814e.js"><link rel="prefetch" href="/wiki1001/assets/js/9.3cee9950.js">
    <link rel="stylesheet" href="/wiki1001/assets/css/0.styles.33264f9c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki1001/" class="home-link router-link-active"><!----> <span class="site-name">Wiki 1001</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wiki1001/Links/Wiki/" class="nav-link">Wiki</a></div><div class="nav-item"><a href="/wiki1001/Links/Devil/" class="nav-link">Devil</a></div><div class="nav-item"><a href="/wiki1001/FAQ/Console/A000.html" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/wiki1001/Thought/" class="nav-link">Thought</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Another</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wiki1001/Another/MySelf.html" class="nav-link">AboutMe</a></li><li class="dropdown-item"><!----> <a href="/wiki1001/Another/Fillory.html" class="nav-link">Fillory</a></li><li class="dropdown-item"><!----> <a href="/wiki1001/Another/Review.html" class="nav-link">Review</a></li></ul></div></div> <a href="https://github.com/Mulander-J/wiki1001.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wiki1001/Links/Wiki/" class="nav-link">Wiki</a></div><div class="nav-item"><a href="/wiki1001/Links/Devil/" class="nav-link">Devil</a></div><div class="nav-item"><a href="/wiki1001/FAQ/Console/A000.html" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/wiki1001/Thought/" class="nav-link">Thought</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Another</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wiki1001/Another/MySelf.html" class="nav-link">AboutMe</a></li><li class="dropdown-item"><!----> <a href="/wiki1001/Another/Fillory.html" class="nav-link">Fillory</a></li><li class="dropdown-item"><!----> <a href="/wiki1001/Another/Review.html" class="nav-link">Review</a></li></ul></div></div> <a href="https://github.com/Mulander-J/wiki1001.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Console</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/wiki1001/FAQ/Console/A000.html" class="sidebar-link">#FAQ1000</a></li><li><a href="/wiki1001/FAQ/Console/A001.html" class="sidebar-link">#A001_VuePress_1</a></li><li><a href="/wiki1001/FAQ/Console/A002.html" class="active sidebar-link">#A002_VuePress_2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_00-上文回顾" class="sidebar-link">&amp;00.上文回顾</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_01-版本推荐" class="sidebar-link">&amp;01.版本推荐</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_03-github链接" class="sidebar-link">&amp;03.Github链接</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_04-个性化主题" class="sidebar-link">&amp;04.个性化主题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#主题修改" class="sidebar-link">主题修改</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#滚动条样式" class="sidebar-link">滚动条样式</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#渐变色标题" class="sidebar-link">渐变色标题</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#gotoend" class="sidebar-link">GoToEnd</a></li></ul></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_05-插件-pwa" class="sidebar-link">&amp;05.插件-PWA</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_06-插件-google-analytics" class="sidebar-link">&amp;06.插件-google-analytics</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#_07-评论系统-valine" class="sidebar-link">&amp;07.评论系统-Valine</a></li><li class="sidebar-sub-header"><a href="/wiki1001/FAQ/Console/A002.html#解决valine不随页面刷新" class="sidebar-link">&amp;解决Valine不随页面刷新</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable"><p class="sidebar-heading"><span>Digest</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="a002-vuepress博客搭建笔记（二）个性化配置"><a href="#a002-vuepress博客搭建笔记（二）个性化配置" aria-hidden="true" class="header-anchor">#</a> A002_VuePress博客搭建笔记（二）个性化配置</h1> <h2 id="_00-上文回顾"><a href="#_00-上文回顾" aria-hidden="true" class="header-anchor">#</a> &amp;00.上文回顾</h2> <p>在上文 <a href="https://mulander-j.github.io/Wiki1001Pro/FAQ/Console/A001.html" target="_blank" rel="noopener noreferrer">A001_VuePress博客搭建笔记（一）简单上手<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
中，我简单阐述了<strong>VuePress</strong>博客搭建的过程，并对其中的一些问题进行分析记录，
包括<strong>首页</strong>，<strong>侧边栏</strong>，<strong>导航栏</strong>，<strong>浏览器书签引入</strong>，<strong>挂载githubPage</strong>等等。</p> <p>本文将围绕着博客的<strong>个性化配置</strong>作一个整理。</p> <p>首先引用官网的原文重申一次<strong>VuePress</strong>博客搭建的过程：</p> <div class="tip custom-block"><p class="custom-block-title">Start</p> <p><strong>As Easy as 1, 2, 3</strong></p></div> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># install</span>
yarn global add vuepress@next 
<span class="token comment"># OR npm install -g vuepress@next</span>

<span class="token comment"># create a markdown file</span>
<span class="token keyword">echo</span> <span class="token string">'# Hello VuePress'</span> <span class="token operator">&gt;</span> README.md

<span class="token comment"># start writing</span>
vuepress dev

<span class="token comment"># build to static files</span>
vuepress build

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_01-版本推荐"><a href="#_01-版本推荐" aria-hidden="true" class="header-anchor">#</a> &amp;01.版本推荐</h2> <p><strong>VuePress</strong>的官网目前是存在两个版本的，分别为0.x版本和最新的1.x的alpha版本。
在实际开发中，我经常因为混淆版本而导致一些插件不能正常引入，当然这也是因为我对<strong>VuePress</strong>的使用还不熟练。
打开<strong>VuePress</strong>的官网，如果有下面绿色的Notice弹出，说明是1.x版本。</p> <p><img src="/wiki1001/assets/img/versions.6306b5ab.jpg" alt="versions"></p> <ul><li><p>0.x 的文档: <a href="https://v0.vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">v0.vuepress.vuejs.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>1.x 的文档: <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">v1.alpha.vuepress.vuejs.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <p>如果是开发者，建议安装最新版<strong>VuePress</strong>，体验最新的轮子~</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yarn add vuepress -D       <span class="token comment"># Install 0.x.x.</span>
yarn add vuepress@next -D  <span class="token comment"># Install next.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_03-github链接"><a href="#_03-github链接" aria-hidden="true" class="header-anchor">#</a> &amp;03.Github链接</h2> <p>与github关联的页脚链接和导航栏链接，</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">/**
* config.js
* @type {{themeConfig: {lastUpdated: string, repoLabel: string, 
* docsDir: string, repo: string, editLinkText: string, 
* docsRepo: string, editLinks: boolean, docsBranch: string}}}
*/</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    themeConfig<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 假定是 GitHub. 同时也可以是一个完整的 GitLab URL</span>
        repo<span class="token punctuation">:</span> <span class="token string">'https://github.com/Mulander-J/Wiki1001Pro.git'</span><span class="token punctuation">,</span>
        <span class="token comment">// 自定义仓库链接文字。默认从 `themeConfig.repo` 中自动推断为</span>
        <span class="token comment">// &quot;GitHub&quot;/&quot;GitLab&quot;/&quot;Bitbucket&quot; 其中之一，或是 &quot;Source&quot;。</span>
        repoLabel<span class="token punctuation">:</span> <span class="token string">'GitHub'</span><span class="token punctuation">,</span>
        <span class="token comment">// 以下为可选的编辑链接选项</span>
        <span class="token comment">// 假如你的文档仓库和项目本身不在一个仓库：</span>
        docsRepo<span class="token punctuation">:</span> <span class="token string">'https://github.com/Mulander-J/Wiki1001Dev'</span><span class="token punctuation">,</span>
        <span class="token comment">// 假如文档不是放在仓库的根目录下：</span>
        docsDir<span class="token punctuation">:</span> <span class="token string">'docs'</span><span class="token punctuation">,</span>
        <span class="token comment">// 假如文档放在一个特定的分支下：</span>
        docsBranch<span class="token punctuation">:</span> <span class="token string">'master'</span><span class="token punctuation">,</span>
        <span class="token comment">// 默认是 false, 设置为 true 来启用</span>
        editLinks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 默认为 &quot;Edit this page&quot;</span>
        editLinkText<span class="token punctuation">:</span> <span class="token string">'博主通道__GitHub Private Repo ！'</span><span class="token punctuation">,</span>
        <span class="token comment">// 文档更新时间：每个文件git最后提交的时间,</span>
        lastUpdated<span class="token punctuation">:</span> <span class="token string">'Last Updated'</span> <span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><img src="/wiki1001/assets/img/githubLink.7fabd7af.jpg" alt="githubLink"></p> <h2 id="_04-个性化主题"><a href="#_04-个性化主题" aria-hidden="true" class="header-anchor">#</a> &amp;04.个性化主题</h2> <h3 id="主题修改"><a href="#主题修改" aria-hidden="true" class="header-anchor">#</a> 主题修改</h3> <ul><li>下载默认主题</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @vuepress/theme-default@next
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>替换</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">##复制node_modules/@vuepress/theme-default 文件夹</span>
<span class="token comment">##粘贴至.vuepress/ 下并更名为theme</span>

Dev
├─── docs
│   └── .vuepress   // 配置目录
│   │    ├── public // 静态资源
│   │    ├── theme // 主题
│   │    │   ├── components // 组件
│   │    │   ├── global-components // 全局组件
│   │    │   ├── global-components // 全局组件
│   │    │   ├── layouts // 布局<span class="token punctuation">(</span>包括首页在内<span class="token punctuation">)</span>
│   │    │   ├── styles // 样式
│   │    │   ├── util // 工具
│   │    │   ├── index.js // 入口配置
│   │    │   ├── noopModule.js // 依赖注入
│   │    │   ├── package.json // 主题依赖
│   │    │   ├── README.md // 主题说明
│   │    └── config.js
│   ├── FAQ     // 求索模块
│   ├── Store   // 仓库模块
│   ├── Thought // 随笔模块
│   └── README.md   // 博客首页
└── package.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li>运行</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>关注控制台输出</p> <p><code>tip Apply theme located at G:\WorkSpace\WebStormWS\Wiki1001\Dev\docs\.vuepress\theme...</code></p> <p>若果控制台能看到上面这句话或者页面能正常渲染的话，就表示主题引入成功</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token string">&quot;C:\Program Files\nodejs\node.exe&quot;</span> <span class="token string">&quot;C:\Program Files\nodejs\node_modules\npm\bin\npm-cli.js&quot;</span> run dev --scripts-prepend-node-path<span class="token operator">=</span>auto

<span class="token operator">&gt;</span> wiki1001@1.0.0 dev G:\WorkSpace\WebStormWS\Wiki1001\Dev
<span class="token operator">&gt;</span> vuepress dev docs

<span class="token function">wait</span> Extracting site metadata<span class="token punctuation">..</span>.
tip Apply theme located at G:\WorkSpace\WebStormWS\Wiki1001\Dev\docs\.vuepress\theme<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>接下来就可以对这份theme项目作修改了，</p> <p>它就是载负你的博客的一个简单的VUe单页面项目。</p> <h3 id="滚动条样式"><a href="#滚动条样式" aria-hidden="true" class="header-anchor">#</a> 滚动条样式</h3> <p>设置页面滚动条为渐变色&amp;圆角样式</p> <blockquote><p>参考</p> <ul><li><a href="https://segmentfault.com/a/1190000003708894" target="_blank" rel="noopener noreferrer">CSS进阶篇--设置滚动条样式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p><img src="/wiki1001/assets/img/linear_scroll.396161bc.jpg" alt="linear_scroll"></p> <div class="language-css line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-css"><code><span class="token comment">/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/</span>
<span class="token selector">::-webkit-scrollbar</span>
<span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #F5F5F5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*定义滚动条轨道 内阴影+圆角*/</span>
<span class="token selector">::-webkit-scrollbar-track</span>
<span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> inset 0 0 6px <span class="token function">rgba</span><span class="token punctuation">(</span>0,0,0,0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #F5F5F5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*定义滑块 内阴影+圆角*/</span>
<span class="token selector">::-webkit-scrollbar-thumb</span>
<span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> inset 0 0 6px <span class="token function">rgba</span><span class="token punctuation">(</span>0,0,0,.3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token comment">/* 线性渐变 */</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-gradient</span><span class="token punctuation">(</span>linear, 
  left bottom, left top,
   <span class="token function">color-stop</span><span class="token punctuation">(</span>0.44, <span class="token function">rgb</span><span class="token punctuation">(</span>60,186,146<span class="token punctuation">)</span><span class="token punctuation">)</span>, 
   <span class="token function">color-stop</span><span class="token punctuation">(</span>0.72, <span class="token function">rgb</span><span class="token punctuation">(</span>253,187,45<span class="token punctuation">)</span><span class="token punctuation">)</span>, 
   <span class="token function">color-stop</span><span class="token punctuation">(</span>0.86, <span class="token function">rgb</span><span class="token punctuation">(</span>253,187,45<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> 0.3s ease-in-out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*定义滑块悬浮样式*/</span>
<span class="token selector">::-webkit-scrollbar-thumb:hover</span><span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-gradient</span><span class="token punctuation">(</span>linear, 
  left bottom, left top, 
  <span class="token function">color-stop</span><span class="token punctuation">(</span>0.44, <span class="token function">rgb</span><span class="token punctuation">(</span>253,187,45<span class="token punctuation">)</span><span class="token punctuation">)</span>, 
  <span class="token function">olor-stop</span><span class="token punctuation">(</span>0.72, <span class="token function">rgb</span><span class="token punctuation">(</span>253,187,45<span class="token punctuation">)</span><span class="token punctuation">)</span>, 
  <span class="token function">color-stop</span><span class="token punctuation">(</span>0.86, <span class="token function">rgb</span><span class="token punctuation">(</span>60,186,146<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> 0.3s ease-in-out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="渐变色标题"><a href="#渐变色标题" aria-hidden="true" class="header-anchor">#</a> 渐变色标题</h3> <p><img src="/wiki1001/assets/img/linear_home.0d3acd95.jpg" alt="linear_home"></p> <div class="language-css line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-css"><code><span class="token selector">h1</span><span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span>left,
   #22c1c3, #fdbb2d 25%, #22c1c3 50%, #fdbb2d 75%, #22c1c3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-text-fill-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">-webkit-background-clip</span><span class="token punctuation">:</span> text<span class="token punctuation">;</span>
  <span class="token property">-webkit-background-size</span><span class="token punctuation">:</span> 200% 100%<span class="token punctuation">;</span>
  <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> myGradientChange 4s infinite linear<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> myGradientChange 4s infinite linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.description,.card h2</span><span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span>left,
   #fdbb2d, #22c1c3 25%, #fdbb2d 50%, #22c1c3 75%, #fdbb2d<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-text-fill-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">-webkit-background-clip</span><span class="token punctuation">:</span> text<span class="token punctuation">;</span>
  <span class="token property">-webkit-background-size</span><span class="token punctuation">:</span> 200% 100%<span class="token punctuation">;</span>
  <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> myGradientChange 4s infinite linear<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> myGradientChange 4s infinite linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> myGradientChange</span>  <span class="token punctuation">{</span>
  <span class="token selector">0%</span><span class="token punctuation">{</span> <span class="token property">background-position</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span> <span class="token property">background-position</span><span class="token punctuation">:</span> -100% 0<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="gotoend"><a href="#gotoend" aria-hidden="true" class="header-anchor">#</a> GoToEnd</h3> <p><img src="data:image/jpeg;base64,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" alt="goTopEnd"></p> <ul><li>下载官方组件BackToTop</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @vuepress/plugin-back-top@next
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>本地化BackToTop组件至Layout.vue中，包括首页在内都会生产该组件</li></ul> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code>//  复制node_modules/@vuepress/plugin-back-top/BackToTop.vue
//  粘贴至.vuepress/theme/components
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BackToTop</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BackToTop</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> BackToTop <span class="token keyword">from</span> <span class="token string">'../components/BackToTop.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span> BackToTop<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>修改Back To Top 组件</li></ul> <p>复制一个Back To Top DOM节点同时修改 <strong>transition</strong> 为 <strong>transition-group</strong></p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>
      <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>topShow<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>go-to-top<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goTop<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scrollToTop<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2000/svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0 0 49.484 28.284<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(-229 -126.358)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>35<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(229 151.107) rotate(-45)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>35<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(274.949 154.642) rotate(-135)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>endShow<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>go-to-top go-to-end<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scrollToEnd<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goEnd<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2000/svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0 0 49.484 28.284<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(-229 -126.358)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>35<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(229 151.107) rotate(-45)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>35<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>translate(274.949 154.642) rotate(-135)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>增加 变量 <strong>scrollEnd</strong> , <strong>endShow</strong></p> <p>方法 <strong>getScrollEnd()</strong> ,<strong>scrollToEnd()</strong></p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> debounce <span class="token keyword">from</span> <span class="token string">'lodash.debounce'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    threshold<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token number">300</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      scrollTop<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      scrollEnd<span class="token punctuation">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollEnd <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getScrollEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>scrollEnd <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getScrollEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">getScrollTop</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">||</span>
        document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">getScrollEnd</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span>
              document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>threshold
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">scrollToTop</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> behavior<span class="token punctuation">:</span> <span class="token string">'smooth'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">scrollToEnd</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> top<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollEnd<span class="token punctuation">,</span> behavior<span class="token punctuation">:</span> <span class="token string">'smooth'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollEnd
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">topShow</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>threshold
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">endShow</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollEnd <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">.</span>threshold
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p>增加置底按钮样式，z轴旋转180度</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>stylus<span class="token punctuation">'</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">.go-to-top</span> <span class="token punctuation">{</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 5rem<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 2.5rem<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> $accentColor<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.go-to-end</span><span class="token punctuation">{</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateZ</span><span class="token punctuation">(</span>180deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.go-to-top:hover</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span>$accentColor, 30%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 959px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.go-to-top</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-enter-active, .fade-leave-active</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity 0.3s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-enter, .fade-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="_05-插件-pwa"><a href="#_05-插件-pwa" aria-hidden="true" class="header-anchor">#</a> &amp;05.插件-PWA</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yarn add -D @vuepress/plugin-pwa
<span class="token comment"># OR npm install -D @vuepress/plugin-pwa</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">//config,js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
 plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'@vuepress/pwa'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        serviceWorker<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">//指向自定义组件</span>
        popupComponent<span class="token punctuation">:</span> <span class="token string">'MySWUpdatePopup'</span><span class="token punctuation">,</span>
        updatePopup<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">:</span> <span class="token string">&quot;新的风暴已经出现&quot;</span><span class="token punctuation">,</span>
            buttonText<span class="token punctuation">:</span> <span class="token string">&quot;盘他&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
 <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>serviceWorker的作用大致就页面首次加载时会请求本地的serviceWorker.js去比对各个文件的版本号
如果不一致则提示用户拉取更新
<img src="/wiki1001/assets/img/pwa-post.5922cce0.jpg" alt="pwa-post">
不过这个popup的默认样式很丑😨，所以官方也提供了自定义popup的接口和教程</p> <div class="danger custom-block"><p class="custom-block-title">默认样式</p> <p>这是原始的...eh</p></div> <p><img src="/wiki1001/assets/img/swpopup_old.1b1dfa29.jpg" alt="swpopup_old"></p> <div class="warning custom-block"><p class="custom-block-title">官网Demo</p> <p>这是官网给的模板 = = 阿咧？</p></div> <p><img src="/wiki1001/assets/img/swpopup_demo.bddc4d9d.jpg" alt="swpopup_demo"></p> <div class="tip custom-block"><p class="custom-block-title">我的Demo</p> <p>这是我的...emmm..可还行呢，凑合用了。这个vue的logo还会动的，不算侵权吧😱...@Vue??</p> <p>P.S.这个popup 的内容是我自定义写的，不是官方在皮啊</p> <blockquote><p>参考</p> <ul><li><a href="https://segmentfault.com/a/1190000014599280" target="_blank" rel="noopener noreferrer">前端每日实战：4# 视频演示如何用纯 CSS 创作一个金属光泽 3D 按钮特效<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://segmentfault.com/a/1190000015177284" target="_blank" rel="noopener noreferrer">前端每日实战：43# 视频演示如何用纯 CSS 绘制一个充满动感的 Vue logo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote></div> <p><img src="/wiki1001/assets/img/sw_popup_my.507a1597.png" alt="sw_popup_my"></p> <div class="danger custom-block"><p class="custom-block-title">注意</p> <p><code>v-if=&quot;enabled&quot;</code> // 添加这一段指令，否则popup无法消失</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SWUpdatePopup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>   <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>enabled<span class="token punctuation">&quot;</span></span> 
            <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ enabled, reload, message, buttonText }<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>my-sw-update-popup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>reload<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ buttonText }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SWUpdatePopup</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div> <h2 id="_06-插件-google-analytics"><a href="#_06-插件-google-analytics" aria-hidden="true" class="header-anchor">#</a> &amp;06.插件-google-analytics</h2> <ul><li><s>首先你要有一个谷歌账号，</s></li> <li><s>然后有一个 google analytics（GA）账户</s></li> <li><s>然后...</s></li> <li><s>不用麻烦了不用麻烦了</s></li> <li><s>不用麻烦 不用麻烦了 不用麻烦了</s></li> <li><s>你们一起上 我在赶时间</s></li> <li><a href="https://jingyan.baidu.com/article/066074d6093cf8c3c21cb0e3.html" target="_blank" rel="noopener noreferrer">如何注册并设置google analytics（GA）账户<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><strong>GA-ID ゲットだゼーツ！</strong></li></ul> <p><img src="/wiki1001/assets/img/google_analysis.2edd12f3.jpg" alt="google_analysis"></p> <ul><li>安装并使用 <strong>google_analysis</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yarn add -D @vuepress/plugin-google-analytics
<span class="token comment"># OR npm install -D @vuepress/plugin-google-analytics</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">//config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token operator">...</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'@vuepress/google-analytics'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        ga<span class="token punctuation">:</span> <span class="token string">'*********'</span><span class="token comment">//你的Google Analytics ID</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>google_analysis</strong> 会实时监控你的<strong>url</strong>，倘若一个页面有多个h2,h3标题，滑动滚动条导致<strong>url</strong>的变化也会被捕捉到。</p> <p><img src="/wiki1001/assets/img/google_post.e19082be.jpg" alt="google_post"></p> <h2 id="_07-评论系统-valine"><a href="#_07-评论系统-valine" aria-hidden="true" class="header-anchor">#</a> &amp;07.评论系统-Valine</h2> <blockquote><p>参考</p> <ul><li><a href="https://blog.csdn.net/HookJony/article/details/82027550" target="_blank" rel="noopener noreferrer">Vuepress搭建带有评论系统的博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://valine.js.org/" target="_blank" rel="noopener noreferrer">A fast, simple &amp; powerful comment system. Valine<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ul><li>获取APP ID 和 APP Key,请先登录或注册 <strong>LeanCloud</strong>, 进入控制台后点击左下角创建应用</li> <li>安装并使用 <strong>Valine</strong></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Install leancloud's js-sdk</span>
<span class="token function">npm</span> <span class="token function">install</span> leancloud-storage --save
<span class="token comment"># Install valine</span>
<span class="token function">npm</span> <span class="token function">install</span> valine --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">// Register AV objects to the global</span>
window<span class="token punctuation">.</span><span class="token constant">AV</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'leancloud-storage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Use import</span>
<span class="token keyword">import</span> Valine <span class="token keyword">from</span> <span class="token string">'valine'</span><span class="token punctuation">;</span>
<span class="token comment">// or Use require</span>
<span class="token keyword">const</span> Valine <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'valine'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span><span class="token string">'#vcomments'</span><span class="token punctuation">,</span>
    <span class="token comment">// other config</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code>//Page.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
     mounted<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// require window </span>
        <span class="token keyword">const</span> Valine <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'valine'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>window <span class="token operator">=</span> window
          window<span class="token punctuation">.</span><span class="token constant">AV</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'leancloud-storage'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          el<span class="token punctuation">:</span> <span class="token string">'#vcomments'</span> <span class="token punctuation">,</span>
          appId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token comment">// your appId</span>
          appKey<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// your appKey</span>
          notify<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//邮箱通知，可关闭</span>
          verify<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//反人类的算术验证码，建议关闭</span>
          avatar<span class="token punctuation">:</span><span class="token string">'mm'</span><span class="token punctuation">,</span> <span class="token comment">//头像，默认即可</span>
          visitor<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//访问计数</span>
          placeholder<span class="token punctuation">:</span> <span class="token string">'just go go'</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">Issue</p> <p>不管地址栏怎么变化，不管怎么切页面，评论内容不会随地址栏变化而变化，即无法同步。</p> <p><strong>Valine</strong>实例与<strong>leancloud-storage</strong>实例 在每次页面加载时会向服务器发起
带当前url参数的请求以获取评论数据，而这个url参数每次都是一样。</p></div> <p>首先<strong>Valine</strong> 实例与 <strong>leancloud-storage</strong> 实例都在 <strong>mounted</strong> 钩子中初始化或挂载至 <strong>window</strong> 对象上了，</p> <p>当页面 <strong>url</strong> 变化时，<strong>Page.vue</strong> 本身并没有变化，只是它身上的<code>&lt;Content/&gt;</code>内容变了，<strong>mounted</strong>没有重新触发，上面两个实例也没有改变。</p> <div class="danger custom-block"><p class="custom-block-title">血的教训</p> <p>不要在 md 文件中直接写<code>&lt;Content/&gt;</code>,请用其他格式编译它，否则会被<strong>vuepress</strong>识别为组件而不断加载陷入死循环。</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br></div><pre class="language-js"><code><span class="token punctuation">[</span>Vue warn<span class="token punctuation">]</span><span class="token punctuation">:</span> Error <span class="token keyword">in</span> nextTick<span class="token punctuation">:</span> <span class="token string">&quot;RangeError: Maximum call stack size exceeded&quot;</span>
warn @ vue<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>esm<span class="token punctuation">.</span>js<span class="token operator">?</span><span class="token number">2</span>b0e<span class="token punctuation">:</span><span class="token number">601</span>
vue<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>esm<span class="token punctuation">.</span>js<span class="token operator">?</span><span class="token number">2</span>b0e<span class="token punctuation">:</span><span class="token number">1832</span> RangeError<span class="token punctuation">:</span> Maximum call stack size exceeded
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-markdown line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br></div><pre class="language-markdown"><code>只是它身上的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">/&gt;</span></span>内容变了，
只是它身上的<span class="token code keyword">`&lt;Content/&gt;`</span>内容变了，
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div> <ul><li>如果重新 init 两个实例呢？
<ul><li>通过 <strong>watch $route</strong> 重新 <strong>new</strong> 两个实例也不行。</li> <li>在每个页面的写入 带 <strong>Valine</strong> 的.vue组件也不行。</li></ul></li></ul> <p>暂时无法解决...emmm,欲知后事如何，请听下回分解..</p> <p>欸，应该没有（三）了，等解决了直接写在评论里吧。</p> <p>大家有解决方法的话也欢迎在下方留言，留言前请 <strong>【 F5 】</strong> 刷新下确保评论会提交到当前页面😂😂😂</p> <hr> <h2 id="解决valine不随页面刷新"><a href="#解决valine不随页面刷新" aria-hidden="true" class="header-anchor">#</a> &amp;解决Valine不随页面刷新</h2> <p>Page.vue 改动如下：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">//  docs/.vuepress/theme/components/Page.vue</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span><span class="token operator">...</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
   <span class="token comment">// 初始化Valine组件</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderValine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch <span class="token punctuation">:</span><span class="token punctuation">{</span>
     <span class="token comment">// 路由变化时重新初始化Valine组件</span>
    <span class="token function">$route</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>path<span class="token operator">!=</span>b<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderValine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//  生成评论组件的 Dom 元素</span>
    <span class="token function">renderValine</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//  因为此方法会构建dom节点，所以&lt;template&gt;中不需要再加相关dom元素</span>
      <span class="token keyword">let</span> $page <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.page'</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> vcomments <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'vcomments'</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vcomments<span class="token punctuation">)</span><span class="token punctuation">{</span>
        vcomments <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
        vcomments<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'vcomments'</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$page<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>hideFooter<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">//    如果forntmatter中标注'hideFooter：true'则不渲染评论组件，</span>
      <span class="token comment">//    使得评论组件在各个页面的显示可控</span>
        vcomments<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>$page <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>vcomments<span class="token punctuation">)</span><span class="token punctuation">{</span>
          $page<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>vcomments<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          $page <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.page'</span><span class="token punctuation">)</span>
          $page<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>vcomments<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">valine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//  初始化valine实例</span>
    <span class="token function">valine</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> Valine <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'valine'</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> leancloudStorage <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'leancloud-storage'</span><span class="token punctuation">)</span>
      <span class="token comment">// require window</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token constant">AV</span> <span class="token operator">=</span> leancloudStorage
      <span class="token punctuation">}</span>
      <span class="token comment">//    配置valine参数</span>
      <span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        el<span class="token punctuation">:</span> <span class="token string">'#vcomments'</span> <span class="token punctuation">,</span>
        appId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token comment">// your appId</span>
        appKey<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// your appKey</span>
        notify<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        verify<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        visitor<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        avatar<span class="token punctuation">:</span><span class="token string">'wavatar'</span><span class="token punctuation">,</span>
        placeholder<span class="token punctuation">:</span> <span class="token string">'春霄苦短，少女前进吧！'</span> <span class="token operator">+</span><span class="token string">'\n'</span><span class="token operator">+</span>
                <span class="token string">'夜は短し歩けよ乙女！'</span> <span class="token operator">+</span><span class="token string">'\n'</span><span class="token operator">+</span>
                <span class="token string">'Yoru wa Mijikashi Arukeyo Otome!'</span> <span class="token operator">+</span><span class="token string">'\n'</span><span class="token operator">+</span>
                <span class="token string">'The Night is Short, Walk on Girl!'</span><span class="token punctuation">,</span>
        path<span class="token punctuation">:</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div></div> <footer class="page-edit" data-v-b0b94d16><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/wiki1001/FAQ/Console/A001.html" class="prev">
          #A001_VuePress_1
        </a></span> <span class="next"><a href="/wiki1001/FAQ/DigestionHeap/DigestWill.html">
          #DigestWill
        </a>
        →
      </span></p></div> </main> <span data-v-6890aafa></span></div><div class="global-ui"><!----></div></div>
    <script src="/wiki1001/assets/js/app.a6243117.js" defer></script><script src="/wiki1001/assets/js/3.5748c91e.js" defer></script><script src="/wiki1001/assets/js/2.684ae4ca.js" defer></script><script src="/wiki1001/assets/js/5.c8914d84.js" defer></script><script src="/wiki1001/assets/js/7.73d7e162.js" defer></script>
  </body>
</html>
